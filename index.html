<!doctype html>
<html>
	<head>
		<title>test</title>
		<meta name="author" content="93951230">
		<meta name="description" content="useless game">
		<meta name="keywords" content="qazwsxedc9395">
		<style>
		canvas
		{
			background: #eee;
			position:absolute;
			top:0%;
			left:0%;
		}
		font
		{
			font-size: 8em;
		}
		</style>
	</head>
	<body>
		<img id="dirt_1" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAIAAAC1eHXNAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwwAADsMBx2+oZAAAAhZJREFUWEfNl8FKAzEQhvuEHkS2Fqq2KAgiivW2qV08qWcFD9ZDD0VoVYqgbakH754VD+Ib+A7OstskTTLZ7GzXXfgo7bRJ/8n8mWQrU79aBmIdvaO164NVHv1/Yh0gotVc4VEaWZLhdfHGfu2F1WbBJv8uLVmSQf3Bk3PM8p41hqypBN2pYH/Dk3PMMosIoNI/P87ujOyUbN8WzjJ1YFbrs53bk73oPfYbWYc3ZdXJ/KMyQJ4LA3M0DAyCIHqP/QZdD2WAPNccT3oVCdAonz8c+1VOCB1Y5ew8si0lQkOty9yPC541Aut3cVhfNE3yKAxFhwdH3ROry3Nh9bKsH0FKgk9hRlq90pKg499Yso5B0qmL9UOhI+2+tZoANaypH4YIHYoPdFmQSsZLhgW0Lro9sVSWQsE+fTvb/Rx1f38+iDoIh4B9CFGHXjULoWFZwhCjjtDtWtBO/Nih75EH5vQgkrs/QJwS4ciVEjoGfiMaM0m/GFrECblSQscYF25lQYS1udkw18VxuqvWhnELEHaTWYd0TNiuFHD/MG4B+9YwInTYkwAphCxdbvkRQoc9CdBByBJEXHZaStCIuS65YlzXAnQY17UAHUbKpMPd1RmZdepKhBPqcLjgxE0TDrO79rYUpwBpj7TDL3Vdxv66ElFIbDOQ9k17XwmiOghdK4LQZgBUB206MqnrkhMF63jvnn49975fh3+o7RpJ2AJW+AAAAABJRU5ErkJggg==" />
		<img id="dirt_2" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAIAAAC1eHXNAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAIrSURBVFhH1ZjJT8JAFMb7X5K4JRqPHLwYCELLopSdGhYx6MGEGBK9GBMTQcLSxIsH/yU/fGYYpmVpmS6Snzrziu3XNx9vXlGG2uF7IhI4Cn7q5SLgo35SVc81TZvrCAPKKHsyTO2zOaaATeWCrBuGYZrm5KUvHOLycbGI+s+u6yLLW6HxB/2Z9LssFAh/Oox6rV4psyhBtrJ6ygsW6wIbs7H/LHTMBm9s7AgkDPeAzOGFk3y0NOENa2B+kOzTQe60XsyjPkKTbZ1YIrlnTic0lqxjG1qpMxqMbvPjXpPGCx3Q3mlcfzZigA/izra9v01gK6ml4zgbTaevT4PMMY2X8qHrOj/1iLyaECJgSYdrq+5OAP6wRYKO+RaDGqgeCXFHyMnHsBCdPD8IQR44tFzQ19jcv3WxtSfj//hjqB60a6Vm6errLiMckoiv+ejk4rNylOokBvwhex1URqU0Wjw5LQnDCkFi13xQ129k7TyY3Bs/3ojBFXi4Lu1ihm1jG/FKB/KUy2bZNrYRX326Bgc6WA8wN8Rv64VuCt0Xeh/hnS5wnw9cHiIgBYKoLyR97tqUJR34fxencATKxnevcl+93Kp+eA0yJ0SC0WHd84LRYSWsOtiHE7+99iyjW0qHIh+47VDogG091IFlZfWNXmuqnBsddAG6Bp3a6eO1FYV/iuQpqbFVPYsVelqEJtfWts8H7dq+fV5AKHwK5jrcfWcq92tWxdOngW1JRH4AGBhTohqb/owAAAAASUVORK5CYII=" />
		<img id="rock" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAIAAAC1eHXNAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAASySURBVFhHvZjXS3NbEMU1QUVFRT5ssRu7sTeiYoFoFBRRfNJ/TNAXxUdFMBYQG1iwEdDYu4Ji7/0q3kXOJDen5JydS/x+T7NOJK6z98ye2fGcnp724LO6uip+KMbLy8tgMCQkJJBmY2VlZWZmhoQVfINWq1WRcsDHx4ciWf6xQoIZwZfn5OTU1dUlJydL+Njb26NIif39fYqYcfzy4uLi0tJSLub5uL+/HxoaOjo6Iq3E4eHh8fExCSUuLy8HBwftf6/X6wsKCrgYCPOjvb39+/ubBAMajaapqYkEn4eHh9vb27u7u+vr66urK7wkfeDhkZeXBx8krPB8fH5+dnR0kGCmrKwsOzubhDVvsF8WiwULQI/4YBmwIyRs8HzgDXp6eki4QkhISEBAgFqtvrm5wRrQUylKSkpyc3NJ2IBpno+FhYXl5WUSzsGqhoaG4nXNZjM9YqOqqio9PZ2EjYODg5GRkf98LC0tLS4ucrEMNTU1SUlJXLy+vj41NcXF8qhUKqPRKD5szs7OTCbT19cX1QvOFhYTqHW7CZCamkqRLH5+fo2NjWITp6enc3NzGRkZ1dXVnp2dnahpllptaGiIiYkhYeX5+bmrq4uEE8LCwvBvgoKCSNvASuAjpBQn1TDrWFHOwErExcWRsDE7O4uCJCFFbGws3Pv6+pJ2AHmNzSIhOMecgcQUr+rk5OTGxgYJKbCD9fX19jeWh8mH2MTo6KiMCbTAyspKZDRpBpR9YGuxkSSswMTu7i4JEWhabW1tyD7SbCj7EJx9ODZkTHDJ7+/vT5oZBR9RUVGOhQqenp4okiItLY0iF1HwIShU8PHxQZEUPz8/FLmIyz7QCykSER8fHx4eToIZtHcc5XI+/lghYUPGh7e3N0VsoK2io3V3d+Mol/MheWzL5AdmnLe3NxKy4DBF0aG3o62+vr7iics+8BIUiXh/fx8YGNjZ2SHtBHTX/v5+QdGpdTodhXzQoAWVwjE/Py8zHuPl0Me3trawfZGRkfTUBvrR8PDwyckJaQecroczf+KMEYO9Q+phHCRtBUNCX18feixpPtLrkZiYmJWVRYIPkkB+4rKDDUItYB+xQhMTE5AyOS69Ho7zpoCLiwuKlMD2YVXQDpGM8qcfkPCBrubsGMDXPT4+knArEj6c7QjAClPkboQ+MBaJ89zO2toaRe5G6EM8dNnZ3Nxkmdz+H0IfuIlQxOf8/Bw5T+IX4PkoLCyULGOcTmNjYyR+B/KRkpLS2tpaVFTESQE4hmWOc7eg0mq1LS0tBoMhODiYnvF5eXn5vbSwo6qtrRWMnwIk24HbEeapmL/jQ/j7hwDcPHHh434RwbUHVY250FmvchW0zIqKioiICIwjCj7sN2nczMrLywMDAxFvb2+jfJBPGo0GrZz9JyEBzc3NMMHFCj56e3vR2PR6Pa509MiKxWLJzMzkYkwb4+PjXMwOKhTFQUI+P9BN0KlxQRWYAHYTAGObTEuSBJNsfn4+CSsK68EIctlkMpFQAibwboKWrlwvLERHRzPep4HRaBTPFe7x4enpicsLCVmQE+I7EXCPD8DiA30D6UnCAYyMEj5kpkgZWHyIx03cd8xms06n+xdKjwz/SiUMuAAAAABJRU5ErkJggg==" />
		<canvas id="Canvas" width="1365" height="768" />
		<script>
			var canvas = document.getElementById("Canvas");
			var ctx = canvas.getContext("2d");
			var CamX;
			var CamY;
			var XdrawVar = 0;
			var YdrawVar = 0;
			var imgs = [];
			imgs[0] = [];
			imgs[0][0] = document.getElementById("dirt_1");
			imgs[0][1] = document.getElementById("dirt_2");
			imgs[1] = document.getElementById("rock");
			var keyPressed = {}
			var tileWi = 640;
			var tileHi = 180;
			var tiles = [];
			function tile(filled)
			{
				this.fill = new filled();
			}
			//////////
			//blocks//
			///////////////////////////////
			function dirt()
			{
				this.countHi = iteration;
				this.countWi = iteration2;
				this.height = 45;
				this.width = 45;
				this.collideVar = null;
				this.x = 22.5+(iteration2*(this.height));
				this.y = 405+(iteration*(this.width));
				if (Math.random() > 0.5)
				{
					this.drawImg = imgs[0][0];
				}
				else
				{
					this.drawImg = imgs[0][1];
				}
				this.getcollide = function()
				{
					NaN;
				}
				this.draw = function()
				{
					ctx.beginPath();
					ctx.drawImage(this.drawImg,(this.x-(this.width/2))+XdrawVar,(this.y-(this.height/2))+YdrawVar);
					ctx.fillStyle = this.color;
					ctx.fill();
					ctx.closePath();
				}
			}
			function rock()
			{
				this.countHi = iteration;
				this.countWi = iteration2;
				this.height = 45;
				this.width = 45;
				this.collideVar = null;
				this.x = 22.5+(iteration2*(this.height));
				this.y = 405+(iteration*(this.width));
				this.getcollide = function()
				{
					NaN;
				}
				this.draw = function()
				{
					ctx.beginPath();
					ctx.drawImage(imgs[1],(this.x-(this.width/2))+XdrawVar,(this.y-(this.height/2))+YdrawVar);
					ctx.fillStyle = this.color;
					ctx.fill();
					ctx.closePath();
				}
			}
			//////////
			//blocks//
			///////////////////////////////
			for (iteration=0;iteration<tileHi;iteration++)
			{
				tiles[iteration] = [];
				for (iteration2=0;iteration2<tileWi;iteration2++)
				{
					if (Math.random() > 0.5)
					{
						(tiles[iteration])[iteration2] = new tile(dirt);
					}
					else
					{
						(tiles[iteration])[iteration2] = new tile(rock);
					}
				}
			}
			var character = new function()
			{
				this.needfalling = true
				this.getCollide = null
				this.upForce = 0;
				this.downForce = 0;
				this.height = 60;
				this.width = 30;
				this.fallingVar = 0;
				this.collideVar = null;
				this.x = (canvas.width/2);
				this.y = (canvas.height/2);
				this.draw = function()
				{
					ctx.beginPath();
					ctx.rect(this.x-(this.width/2),this.y-(this.height/2),this.width,this.height);
					ctx.fillStyle = "#141012";
					ctx.fill();
					ctx.closePath();
				}
				this.updating = function()
				{
					if (this.fallingVar != 0)
					{
						this.fallingVar -= 1;
					}
					if ((this.fallingVar == 0) && (this.downForce == 0) && (this.upForce != 0))
					{
						this.downForce = 2;
					}
					if ((this.fallingVar == 0) && (this.downForce < 15))
					{
						this.downForce *= 1.07;
						this.upForce * 0.9;
					}
					CamX = -(Math.round(XdrawVar/45)-15);
					CamY = (Math.round(YdrawVar/45)+5);
				}
				this.getcollide = function()
				{
					NaN;
				}
				this.getXcollide = function()
				{
					NaN;
				}
				this.getYcollide = function()
				{
					this.downForce = 0;
					this.upForce = 0;
					this.fallingVar = 10;
				}
				this.controlling = function()
				{
					if (keyPressed["d"])
					{
						XdrawVar -= 3.5;
					}
					if (keyPressed["a"])
					{
						XdrawVar += 3.5;
					}
					if (keyPressed["s"])
					{
						NaN;
					}
					if (keyPressed[" "])
					{
						if (this.upForce <= 13)
						{
							this.upForce += 1;
						}
					}
				}
				this.befall = function()
				{
					YdrawVar += this.upForce-this.downForce;
				}
			}
			/////////////////
			//key detecting//
			/////////////////
			function keyDownHandler(e) 
			{
				keyPressed[e.key] = true;
			}
			function keyUpHandler(e)
			{
				keyPressed[e.key] = false;
			}
			function LOL(e)
			{
				console.log(e);
			}
			document.addEventListener("keydown", keyDownHandler, false);
			document.addEventListener("keyup", keyUpHandler, false);
			document.addEventListener("mousedown", LOL, false);
			/////////////////////////
			//ez collide idenifying//
			/////////////////////////
			function collide(object,getHurt)
            {
				let Xcondition = ((object.x+(object.width/2) > (getHurt.x-(getHurt.width/2))+XdrawVar) && (object.x-(object.width/2) < (getHurt.x+(getHurt.width/2))+XdrawVar));
				let Ycondition = ((object.y+(object.height/2) > (getHurt.y-(getHurt.height/2))+YdrawVar) && (object.y-(object.height/2) < (getHurt.y+(getHurt.height/2))+YdrawVar));
				if (Xcondition)
				{
					getHurt.collideVar -= 1;
				}
				if (Ycondition)
				{
					getHurt.collideVar += 1;
				}
				try
				{
					if (!((Xcondition) || (Ycondition)))
					{
						getHurt.collideVar = null;
					}
					else if ((Xcondition) && (Ycondition))
					{
						if (getHurt.collideVar > 0)
						{
							object.getXcollide();
						}
						object.getcollide();
						if (getHurt.collideVar < 0)
						{
							object.getYcollide();
						}
						getHurt.collideVar = null;
					}
				}
				catch (Error)
				{
					NaN;
				}
            }
			function drawScore()
			{
				ctx.font = "20px Microsoft JhengHei";
				ctx.fillText("x/y = " + String(CamX) + " / " + String(CamY), 10, 20);
			}
			function rendering() 
			{
				ctx.clearRect(0, 0, canvas.width, canvas.height);
				for (iteration=CamY-14;iteration<=CamY+14;iteration++)
				{
					for (iteration_2=CamX-16;iteration_2<=CamX+15;iteration_2++)
					{
						try
						{
							(tiles[-iteration])[iteration_2].fill.draw();
							collide(character,(tiles[-iteration])[iteration_2].fill);
						}
						catch
						{
							NaN;
						}
					}
				}
				character.controlling();
				character.draw();
				character.updating();
				character.befall();
				drawScore();
			}
			
			setInterval("rendering()", 15);
		</script>
	</body>
</html>